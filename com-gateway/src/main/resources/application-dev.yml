server:
  port: 8000

#注册中心注册
eureka:
  client:
    service-url:
      defaultZone: http://admin:admin@127.0.0.1:9700/eureka/eureka/

spring:
  redis:
    sentinel:
      master: mymaster
      nodes: 132.232.148.214:26379,132.232.148.214:26380,132.232.148.214:26381
    password: hongda2019@
    lettuce:
      shutdown-timeout: 100ms #超时时间
      pool:
        max-active: 20
        min-idle: 2
        max-idle: 10
        max-wait: 500ms
    timeout: 30000
  cloud:
    gateway:   #gateway网关配置
      enabled: true  #开启网关配置
      routes:
        - id: authApi   #授权服务
          uri: lb://authService
          predicates:
            - Path=/auth/**
          filters:  # 默认限流配置
          - name: RequestRateLimiter
            args:
              redis-rate-limiter.replenishRate: 5  #流速 每秒
              redis-rate-limiter.burstCapacity: 10   #令牌桶的容积
              key-resolver: "#{@apiKeyResolver}" #SPEL表达式去的对应的bean
        - id: userApi  #用户服务
          uri: lb://userService
          predicates:
            - Path=/user/**
          filters:  # 默认限流配置
            - name: RequestRateLimiter
              args:
                redis-rate-limiter.replenishRate: 5  #流速每秒
                redis-rate-limiter.burstCapacity: 10  #令牌桶的容积
                key-resolver: "#{@apiKeyResolver}" #SPEL表达式去的对应的bean
# 自定义配置
com:
  gateway:
    ignored:      #白名单 多个用,分割

jwt:  # jwt 配置
  config:
    secret: hongda